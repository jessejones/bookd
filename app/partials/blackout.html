<div class="blackout-edit" ng-show="mode === 'edit'">
  <div class="sidebar">
    <h1 class="brand">
      <span class="label">Baku</span>
    </h1>
    <div class="tool-selection">
      <button ng-click="setToolType('marker')" class="tab {{ tool.kind === 'marker' ? 'current-tool' : '' }}">
        <span class="icon-marker"></span><span class="label">Marker</span>
      </button>
      <button ng-click="setToolType('eraser')" class="tab {{ tool.kind === 'eraser' ? 'current-tool' : '' }}">
        <span class="icon-eraser"></span><span class="label">Eraser</span>
      </button>
   </div>
    <div class="tool-size {{ tool.kind + '-size' }}">
      <div class="tab-drawer closed">
        <button ng-click="setToolSize(5)" class="size-option {{ tool.size === 5 ? 'current-size' : '' }}">
          <div class="size-dot size-5">
            <span class="label">small</span>
          </div>
        </button><button ng-click="setToolSize(15)" class="size-option {{ tool.size === 15 ? 'current-size' : '' }}">
          <div class="size-dot size-15">
            <span class="label">medium</span>
          </div>
        </button><button ng-click="setToolSize(25)" class="size-option {{ tool.size === 25 ? 'current-size' : '' }}">
          <div class="size-dot size-25">
            <span class="label">large</span>
          </div>
        </button><button class="size-option tab">
          <div class="size-dot {{ 'size-' + tool.size }}"></div>
          <div>size</div>
        </button>
      </div>
    </div>
    <div class="landscape-sidebar">
      <button ng-click="save()" class="tab">
        <span class="icon-eye"></span><span class="label">Preview</span>
      </button>
      <button ng-click="clear()" class="tab">
        <span class="icon-ccw"></span><span class="label">Clear</span>
      </button>
    </div>
  </div>

  <div class="container">
    <div ng-if="!source" class="loading">
      <img class="loading" src="/img/loading.gif">
    </div>

    <div ng-if="source" class="source-info">
      currently <a href="http://newspaperblackout.com/">blacking out</a> {{ source.author + '’s'}}
      <h2 class="source-title">
        <a ng-href="http://worldcatlibraries.org/registry/gateway?isbn={{ source.isbn }}">
          {{ source.title }}
          <span class="icon-link"></span>
        </a>
      </h2>
      <div class="new-source">
        <a href="#" role="button" ng-click="startNew()">change text</a>
      </div>
    </div>

    <div class="blackout-board">
      <div class="blackout-frame"></div>
      <div class="blackout-source" ng-bind-html="source.content"></div>
      <canvas class="blackout-canvas" width="{{ dimensions.width }}" height="{{ dimensions.height }}"></canvas>
    </div>
  </div>
</div>

<div class="blackout-save" ng-show="mode === 'save'">
  <nav class="preview-nav">
    <button ng-click="edit()">keep editing</button><button ng-click="startNew()">start new</button>
  </nav>

  <div class="preview-info">
    If you’re happy with your poem, save the image below. And if you’re <em>really</em> happy with it,
    <a href="http://baku-poems.tumblr.com/submit">share your creation</a> on the <a href="http://baku-poems.tumblr.com/">Baku Poems Tumblr</a>. You can also <a href="http://baku-poems.tumblr.com/ask">give us your feedback</a>.
  </div>

  <div class="blackout-image">
    <img ng-src="{{ blackoutImage }}">
  </div>
</div>